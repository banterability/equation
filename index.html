<!doctype html>
<html>
<head>
    <title>Equation!</title>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,700,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/handlebars.js"></script>
    <script type="text/javascript" src="js/underscore-min.js"></script>
    <script type="text/javascript" src="js/calculator.js"></script>
</head>
<body>
    <h1>equation</h1>
    <h2>Automatically generate your own calculator.</h2>
    <hr/>
    <div class="main-container">
        <div class="row cf">
            <div class="left">
                <pre>
<code>result = 500*(input1) + 300</code>
                </pre>
            </div>
            <div class="right">Pick any equation.</div>
        </div>
        <div class="row cf">
            <div class="left">
                <pre>
<code>result = 500*(input1) + 300*(input2) 
         + (input3)(input4)</code>
                </pre>
            </div>
            <div class="right">Add as many variables as you need.</div>
            <div class="right">Variable names should start with a letter
            and can contain letters, numbers and _s. And feel free
            to use parentheses, +, -, * and /.</div>
        </div>



        <label id="resultLabel">result =</label> <input id="equationInput" type="text" placeholder="Enter equation" />
            <button id="generateButton">Make calculator</button>
            <div id="calculatorPreview"></div>
            <pre id="calculatorSource"></pre>

        <!-- 
            Expects to get passed a list of variables 
            and an equation
            Like {variables: [x,y,abc_var], equation: "x+y*z"}
        -->
        <script type="text/x-handlebars-template" id="calculatorTemplate">
            <!-- Drop the code below into the body of your html -->
            <!--
                Include the next line (without comments) if you don't already include jQuery on your page
                <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
            -->
            <h3> YOUR TITLE HERE </h3>
            <p class="guff">Sample guff text explaining the calculator. Optional.</p>
            <div class="calculator">
                {{#each variables}}
                    <div class="variableInputWrapper">
                        <label>{{this}}:</label> 
                        <input type="text" placeholder="0" class="variableInput" id="variableInput-{{this}}" />
                    </div>
                {{/each}}
                <button id="calculateButton">Calculate</button>
                <div id="result"></div>
            </div>

            <script type="text/javascript">
                function calculate(){
                    {{#each variables}}
                    var {{this}} = +$('#variableInput-{{this}}').val() || 0;
                    {{/each}}
                    $('#result').text({{equation}});
                }
                $('#calculateButton').click(calculate);
                $('.variableInput').keyup(calculate);
        </script>
    </div>
</body>
</html>
