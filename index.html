<!doctype html>
<html>
<head>
    <title>Equation!</title>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,700,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="js/handlebars.js"></script>
    <script type="text/javascript" src="js/underscore-min.js"></script>
    <script type="text/javascript" src="js/calculator.js"></script>
</head>
<body>
    <h1>equation</h1>
    <h2 class="tagline">Automatically generate your own calculator.</h2>
    <hr/>
    <div class="main-container">
        <div class="row cf">
            <div class="left">
                <pre>
<code>result = 500*input1 + 300</code>
                </pre>
            </div>
            <div class="right">Pick any equation.</div>
        </div>
        <div class="row cf">
            <div class="left">
                <pre>
<code>result = 500*input1 + input2</code>
                </pre>
            </div>
            <div class="right">Add as many variables as you need.</div>
        </div>
        <div class="row cf">
            <div class="left">
                <pre>
<code>result = 500*input1 + 300*input2 
         + (input3)(input4)</code>
                </pre>
            </div>
            <div class="right">Variable names should start with a letter and can contain letters, numbers and _s. And feel free to use parentheses, +, -, * and /.</div>
        </div>
    
        <hr/>
        <h2>Try it yourself.</h2>
        <div class="maker">
            <label id="resultLabel">result =</label> <input id="equationInput" type="text" placeholder="Enter equation" />
            <button id="generateButton">Make calculator</button>
        </div>
        
        <hr/>

        <h2>Preview</h2>
        <div id="calculator-preview"></div>

        <h2>Code</h2>
        <textarea id="calculatorSource"></textarea>
    </div>
    <hr/>
    <footer>
        <h2>Created by <a href="https://twitter.com/smelendez">Steven Melendez</a> & <a href="https://twitter.com/sisiwei">Sisi Wei</a>, presented at <a href="http://aaja2013.sched.org/event/35b97055c0f795ed04884c4abd94f354?iframe=no#.UgfoYWTTUTg">AAJA 2013</a>. More features pending.</h2>
    </footer>
</body>
        <!-- 
            Expects to get passed a list of variables 
            and an equation
            Like {variables: [x,y,abc_var], equation: "x+y*z"}
        -->
        <script type="text/x-handlebars-template" id="calculatorTemplate">
            <!-- Drop the code below into the body of your html -->
            <!-- 
                Include the next line (without comments) if you don't already include jQuery on your page
                <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
            -->
            <h3> YOUR TITLE HERE </h3>
            <p class="guff">Sample guff text explaining the calculator. Optional.</p>
            <div class="calculator">
                {{#each variables}}
                    <div class="variableInputWrapper">
                        <label>{{this}}:</label> 
                        <input type="text" placeholder="0" class="variable-input" id="variable-input-{{this}}" />
                    </div>
                {{/each}}
                <button id="calculateButton">Calculate</button>
                <div id="result"></div>
            </div>

            <script type="text/javascript">
                function calculate(){
                    {{#each variables}}
                    var {{this}} = +$('#variable-input-{{this}}').val() || 0;
                    {{/each}}
                    $('#result').text({{equation}});
                }
                $('#calculateButton').click(calculate);
                $('.variable-input').keyup(calculate);
        </script>
</html>
